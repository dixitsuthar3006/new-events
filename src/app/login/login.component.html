<div class="container p-4">
  <div class="row gap-4">
    <div class="col-md-6">
      <img
        src="/assets/img/login-cover.jpg"
        width="100%"
        height="100%"
        alt=""
      />
    </div>
    <div class="col-md-5 my-auto">
      <h2>Login</h2>
      @if(error){
      <ngb-alert type="danger" (closed)="close()">
        <strong>{{ error }}</strong>
      </ngb-alert>
      } @if(isLoading){
      <div class="d-flex align-items-center justify-content-center">
        <mat-spinner></mat-spinner>
      </div>
      } @if(!isLoading){
      <form [formGroup]="loginForm" (ngSubmit)="onLogin()">
        <div class="mb-3">
          <label for="email" class="form-label">Email address</label>
          <input
            type="email"
            class="form-control"
            id="email"
            formControlName="email"
          />
          <div
            class="fw-semibold mt-1 text-danger"
            *ngIf="
              loginForm.get('email').hasError('required') &&
              loginForm.get('email').touched
            "
          >
            <span>Email is required.</span>
          </div>
          <div
            class="fw-semibold mt-1 text-danger"
            *ngIf="
              loginForm.get('email').hasError('pattern') &&
              loginForm.get('email').touched
            "
          >
            <span>Please enter a valid email.</span>
          </div>
        </div>
        <div class="mb-3">
          <label for="password" class="form-label">Password</label>
          <input
            type="password"
            class="form-control"
            id="password"
            formControlName="password"
          />
          <div
            class="fw-semibold text-danger"
            *ngIf="
              loginForm.get('password').hasError('required') &&
              loginForm.get('password').touched
            "
          >
            Password is required.
          </div>
          <div
            class="fw-semibold text-danger"
            *ngIf="
              loginForm.get('password').hasError('pattern') &&
              loginForm.get('password').touched
            "
          >
            Password must contain at least one uppercase letter, one lowercase
            letter, and one digit.
          </div>
          <div
            class="fw-semibold text-danger"
            *ngIf="
              (loginForm.get('password').hasError('minlength') ||
                loginForm.get('password').hasError('maxlength')) &&
              !loginForm.get('password').hasError('pattern') &&
              loginForm.get('password').touched
            "
          >
            Password must be between 8 and 20 characters.
          </div>
        </div>

        <div class="my-3 d-flex gap-3">
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="userType"
              id="volunteer"
              value="volunteer"
              formControlName="userType"
            />
            <label class="form-check-label" for="volunteer"> Volunteer </label>
          </div>

          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="userType"
              id="event-organizer"
              value="event"
              formControlName="userType"
            />
            <label class="form-check-label" for="event-organizer">
              Event Organizer
            </label>
          </div>
        </div>
        <div
          class="fw-semibold text-danger"
          *ngIf="
            loginForm.get('userType').hasError('required') &&
            loginForm.get('userTyope').touched
          "
        >
          Please select a single value;
        </div>
        <app-button [btnProps]="{type:'submit',title:'Login',disableIf:loginForm.valid}"></app-button>
      </form>
      }
      <div class="mt-3">
        <a routerLink="/register">Not have a account? Register</a>
      </div>
    </div>
  </div>
</div>
